var slider=function(){function a(a){for(var b=a.querySelector(".slider"),c=b.querySelector(".slider-container"),d=c.querySelectorAll("ul li"),e=d.length,f=b.offsetWidth,g=0;e>g;g++)d[g].style.width=f+"px",d[g].classList.contains("element")&&d[g].setAttribute("data-id",g);var h=f*e;c.style.width=h+"px"}function b(a){var b=a.querySelector(".slider"),c=b.querySelector(".slider-container ul"),d=c.querySelectorAll("li");d[0].classList.add("active");var e=d[0].innerHTML,f=d[0].style.backgroundImage,g=d[d.length-1].innerHTML,h=d[d.length-1].style.backgroundImage,i=document.createElement("LI");i.setAttribute("class","clone-last"),c.insertBefore(i,c.firstChild);var j=document.createElement("LI");j.setAttribute("class","clone-first"),c.insertBefore(j,c.lastChild);var k=c.querySelector(".clone-last");k.innerHTML=g,k.style.backgroundImage=h;var l=c.querySelector(".clone-first");l.innerHTML=e,l.style.backgroundImage=f,c.style.marginLeft="-"+b.offsetWidth+"px"}function c(a){var b=a.querySelector(".slider .slider-container ul"),c=b.querySelector("li.element.active"),d=c.getAttribute("data-id"),e=parseFloat(c.style.width,10);b.style.marginLeft="-"+e*d+"px"}function d(a,b){a.classList.add("disabled-click"),setTimeout(function(){a.classList.remove("disabled-click")},b.slideTime)}function e(a,b){function c(c){var e=b.querySelector(".slider"),f=e.querySelector(".slider-container ul"),g=f.querySelectorAll("li"),h=f.querySelector("li.element.active");d(e,a);var i=parseFloat(h.style.width,10),j=-1*parseFloat(f.style.marginLeft,10),k=b.querySelectorAll(".slider .dots ul li");if(void 0===c&&(c=0),j<=(g.length-3)*i){h.classList.remove("active");var l=h.nextElementSibling;l.classList.add("active"),f.style.transition="all "+a.slideTime+"ms ease-out",c?f.style.marginLeft="-"+(j+i+c)+"px":f.style.marginLeft="-"+(j+i)+"px",setTimeout(function(){f.style.transition=""},a.slideTime);for(var m=(l.getAttribute("data-id"),h.getAttribute("data-id")),n=0,o=k.length;o>n;n++){var p=k[n],q=p.getAttribute("data-id");if(m==q){p.classList.remove("active");var r=p.nextElementSibling;r&&r.classList.add("active")}}}else if(j==(g.length-2)*i)k[0].classList.add("active"),k[k.length-1].classList.remove("active"),f.style.transition="all "+a.slideTime+"ms ease-out",f.style.marginLeft="-"+(j+i)+"px",setTimeout(function(){f.style.transition="",h.classList.remove("active"),g[1].classList.add("active"),f.style.marginLeft="-"+e.offsetWidth+"px"},a.slideTime);else{h.classList.remove("active");var l=h.nextElementSibling;l.classList.add("active");var s=e.querySelector(".dots ul li.active");s.classList.remove("active");var t=s.nextElementSibling;t&&t.classList.add("active"),f.style.transition="all "+a.slideTime+"ms ease-out",c?f.style.marginLeft="-"+(j+i+c)+"px":f.style.marginLeft="-"+(j+i)+"px",j>(g.length-2)*i&&(k[0].classList.add("active"),k[k.length-1].classList.remove("active"),setTimeout(function(){f.style.transition="",h.classList.remove("active"),g[1].classList.add("active"),f.style.marginLeft="-"+e.offsetWidth+"px"},a.slideTime))}}function e(c){function e(){l[0].classList.remove("active"),l[l.length-1].classList.add("active"),g.style.marginLeft="0px",g.style.transition="all "+a.slideTime+"ms ease-out",g.style.marginLeft="0px",setTimeout(function(){g.style.transition="",i.classList.remove("active"),h[h.length-2].classList.add("active"),g.style.marginLeft="-"+f.offsetWidth*(h.length-2)+"px"},a.slideTime)}var f=b.querySelector(".slider"),g=f.querySelector(".slider-container ul"),h=g.querySelectorAll("li"),i=g.querySelector("li.element.active");d(f,a);var j=parseFloat(i.style.width,10),k=-1*parseFloat(g.style.marginLeft,10),l=b.querySelectorAll(".slider .dots ul li");if(void 0===c&&(c=0),k>j){i.classList.remove("active");var m=i.previousElementSibling;m.classList.add("active"),g.style.transition="all "+a.slideTime+"ms ease-out",c?g.style.marginLeft="-"+(k-j+c)+"px":g.style.marginLeft="-"+(k-j)+"px",setTimeout(function(){g.style.transition=""},a.slideTime);for(var n=(m.getAttribute("data-id"),i.getAttribute("data-id")),o=0,p=l.length;p>o;o++){var q=l[o],r=q.getAttribute("data-id");n==r&&(q.classList.remove("active"),q.previousElementSibling.classList.add("active"))}}else k==j,e()}var f=b.querySelector(".slider .slider-right"),g=b.querySelector(".slider .slider-left");if(f.classList.remove("hide"),g.classList.remove("hide"),1==a.autoPlay)var h=setInterval(c,a.playTime);g.addEventListener("click",function(){e(),1==a.autoPlay&&(clearInterval(h),h=setInterval(c,a.playTime))},!1),f.addEventListener("click",function(){c(),1==a.autoPlay&&(clearInterval(h),h=setInterval(c,a.playTime))},!1),window.addEventListener("resize",function(){1==a.autoPlay&&(clearInterval(h),h=setInterval(c,a.playTime))},!1);var i=b.querySelector(".slider-box"),j=i.querySelector(".slider-container ul"),k=j.querySelectorAll("li"),l=0;i&&(i.addEventListener("touchstart",function(b){var d=b.changedTouches[0];l=parseInt(d.clientX),sliderUlGet=-1*parseFloat(j.style.marginLeft,10),sliderLiWidth=parseFloat(k[0].style.width,10),1==a.autoPlay&&(clearInterval(h),h=setInterval(c,a.playTime))},!1),i.addEventListener("touchmove",function(b){var d=b.changedTouches[0],e=parseInt(d.clientX)-l;sliderUlGet==sliderLiWidth*k.length-sliderLiWidth?j.style.marginLeft="-"+(sliderUlGet-e)+"px":sliderUlGet==sliderLiWidth?j.style.marginLeft="-"+(sliderUlGet-e)+"px":j.style.marginLeft="-"+(sliderUlGet-e)+"px",1==a.autoPlay&&(clearInterval(h),h=setInterval(c,a.playTime))},!1),i.addEventListener("touchend",function(b){var d=b.changedTouches[0],f=parseInt(d.clientX)-l;f>50?e(f):-50>f?c(f):(j.style.transition="all "+a.slideTime+"ms",setTimeout(function(){j.style.transition=""},a.slideTime),j.style.marginLeft="-"+sliderUlGet+"px"),1==a.autoPlay&&(clearInterval(h),h=setInterval(c,a.playTime))},!1));var m=b.querySelector(".slider"),j=m.querySelector(".slider-container ul"),k=j.querySelectorAll("li.element"),n=document.createElement("DIV");n.setAttribute("class","dots"),m.insertBefore(n,m.lastChild),b.querySelector(".slider .dots").innerHTML="<ul></ul>";var o=b.querySelector(".slider .dots ul"),p=0;for(o.innerHTML="";p<k.length;)o.innerHTML+="<li></li>",p++;var q=o.querySelectorAll("li");q[0].classList.add("active");for(var r=[],s=0,t=q.length;t>s;s++){var u=q[s];r.push(u),u.setAttribute("data-id",s+1),u.addEventListener("click",function(){1==a.autoPlay&&(clearInterval(h),h=setInterval(c,a.playTime)),d(m,a);for(var b=this,e=0;e<r.length,e<k.length;e++){var f=k[e],g=r[e];if(b.getAttribute("data-id")==f.getAttribute("data-id")?f.classList.add("active"):f.classList.remove("active"),b==g){g.classList.add("active");var i=b.getAttribute("data-id");j.style.transition="all "+a.slideTime+"ms ease-out",j.style.marginLeft="-"+i*m.offsetWidth+"px",setTimeout(function(){j.style.transition=""},a.slideTime)}else g.classList.remove("active")}},!1)}}function f(a){setTimeout(function(){a.classList.remove("show"),setTimeout(function(){a.classList.remove("loading")},500)},500)}function g(){var d=document.querySelector("#"+config.contentBox),g=d.querySelectorAll(".slider .slider-container ul li").length;g>1&&d&&(b(d),a(d),e(config,d),window.addEventListener("resize",function(){a(d),c(d)},!1)),f(d)}return{app:g}}();